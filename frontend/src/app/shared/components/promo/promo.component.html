@let translates = ('homepage.promo' | translate);

<section class="green">
  <div class="container">
    <div class="promo">
      <app-h2-title class="promo__title" [text]="translates.title" />
    
      <div class="promo__filters">
        <app-scroll-items
          itemsGap="16px"
          itemsMaxWidth="475px"
          [scrollItemsData]="translates.filters"
        >
          <ng-template #itemTemplate let-itemData>
            <app-product-filter-btn 
              [btnData]="itemData"
              [isActive]="itemData.selector === appliedFilter()"
              (filterBtnClicked)="applyFilter($event)"
            />
          </ng-template>
        </app-scroll-items>
      </div>

      <div class="promo__cards">
        @if(isLoading()) {
          <app-loader />
        } @else {
          @for(product of promoProducts(); track product.id) {
            <app-product-card-mini 
              [product]="product"
            />
          }
        }
      </div>

      @if(promoProducts()) {
        @if(promoPagination().hasNextPage) {
          <div class="promo__show-more">
            @if(isShowMoreLoading()) {
              <app-loader />
            } @else {
              <app-btn-flat
                borderRarius="6px"
                [btnText]="'common.show-more' | translate"
                bgColor="var(--mat-sys-primary-container)"
                (click)="showMore()"
              />
            }
          </div>
        }
      }
    </div>
  </div>
</section>
