@let translates = ('homepage.hit-products' | translate);

<div class="container">
  <section class="hit-products green">
    <app-h2-title class="hit-products__title" [text]="translates.title"/>

    <div class="hit-products__filters">
      <app-scroll-items 
        itemsGap="16px"
        itemsMaxWidth="950px"
        [scrollItemsData]="categories()"
      >
        <ng-template #itemTemplate let-itemData>
          <app-product-filter-btn
            [isActive]="appliedFilter() === itemData.slug"
            [btnData]="itemData"
            (filterBtnClicked)="applyFilter($event)"
          />
        </ng-template>
      </app-scroll-items>
    </div>

    <div class="hit-products__cards">
      @if(isLoading()) {
      <app-loader />
      } @else { 
        @for(product of hitProducts(); track product.id) {
          <app-product-card [product]="product" [withStockAndRate]="false" />
        }@empty {
          <div class="hit-products__empty">
            <mat-icon>search_off</mat-icon>
            <p>{{ translates["not-found"] }}</p>
          </div>
        } 
      }
    </div>

    @if(hitProducts().length) {
      @if(hitPagination().hasNextPage) {
        <div class="hit-products__show-more">
          @if(isShowMoreLoading()) {
            <app-loader />
          } @else {
            <app-btn-flat
              borderRarius="6px"
              [btnText]="'common.show-more' | translate"
              bgColor="var(--mat-sys-primary-container)"
              (click)="showMore()"
            />
          }
        </div>
      }
    }
  </section>
</div>
