<section class=" green">
  <div class="container">
    <div class="products">
      <app-h2-title 
        [text]="'products-page.title' | translate"
      />
      <mat-sidenav-container 
        class="products__content" 
        #productsContent
        [class.edge-space]="sidenavMode() == 'over'"
        (backdropClick)="onBackdropClick()"
      >
        <!-- Sidenav с фильтрами -->
        <mat-sidenav
          #sidenav
          position="start"
          [mode]="sidenavMode()"
          [opened]="isLargeScreen()"
        >
          <div class="products__filters">
            <app-catalog-filters />
            <app-badge-filter />
            <app-price-filter />
          </div>
        </mat-sidenav>
    
        <!-- Основной контент -->
        <mat-sidenav-content class="products__main">
          <div class="products__top">
            <div class="products__sorting">
              <app-sorting-by />
              <app-limit-by />
            </div>
    
            <div class="products__view">
              <app-show-filters-btn (click)="sidenav.toggle()"/>
              <app-view-list-btn />
              <app-view-grid-btn />
            </div>
          </div>
    
          <div class="products__cards">
            @if(isLoading()) {
              <app-loader />
            } @else {
              @for(card of products(); track card.id) {
                @if(view() == 'list') {
                  <app-product-card-list [product]="card"/>
                } @else {
                  <app-product-card 
                    [product]="card" 
                    [withStockAndRate]="true"
                  />
                }
              } @empty {
                <p>NOT FOUND BY FILTER</p>
              }
            }
          </div>
    
          <app-catalog-pagination />
        </mat-sidenav-content>
      </mat-sidenav-container>
    </div>
  </div>
</section>
