import{a as j,b as q,c as H}from"./chunk-BJBK5PZY.js";import{c as k,f as z}from"./chunk-EFYAV52P.js";import{A as W,d as A,j as h,l as N,p as I,s as O,x as V,z as v}from"./chunk-K2246KKC.js";import{$ as c,Ab as s,Da as L,Ha as p,La as M,N as w,P as T,Q as R,Qa as m,Ra as a,Sa as g,Wa as S,Ya as l,Za as F,_ as u,ca as D,gc as G,ib as _,kb as b,oa as t,qd as f,sd as C,tb as B,w as E,xa as d,zb as r}from"./chunk-KRK6O2AZ.js";var Y=()=>["/register"],y=class o{isPopup=c(!1);openRegisterPopup=u();onRegisterClick(i){this.isPopup()&&(i.preventDefault(),this.openRegisterPopup.emit())}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=d({type:o,selectors:[["app-go-to-register"]],inputs:{isPopup:[1,"isPopup"]},outputs:{openRegisterPopup:"openRegisterPopup"},decls:8,vars:11,consts:[[1,"register__link",3,"click","routerLink"]],template:function(e,n){e&1&&(m(0,"p"),_(1),r(2,"translate"),m(3,"a",0),l("click",function(X){return n.onRegisterClick(X)}),_(4),r(5,"translate"),a(),_(6),r(7,"translate"),a()),e&2&&(t(),b(" ",s(2,4,"login-page.go-to-register.prefix")," "),t(2),p("routerLink",n.isPopup()?null:B(10,Y)),t(),b(" ",s(5,6,"login-page.go-to-register.link")," "),t(2),b(" ",s(7,8,"login-page.go-to-register.suffix")," "))},dependencies:[C,f,G],styles:["p[_ngcontent-%COMP%]{text-align:center;line-height:1.2}.register__link[_ngcontent-%COMP%]{text-decoration:none;color:var(--mat-sys-primary);cursor:pointer}"],changeDetection:0})};function Z(o,i){o&1&&g(0,"app-loader")}function $(o,i){if(o&1){let e=S();m(0,"form",1),l("ngSubmit",function(){T(e);let P=F();return R(P.onSubmit())}),g(1,"app-form-control-email",2),r(2,"translate"),r(3,"translate"),g(4,"app-form-control-pwd",3),r(5,"translate"),g(6,"app-btn-flat",4),r(7,"translate"),a()}if(o&2){let e=F();p("formGroup",e.loginForm),t(),p("emailControl",e.emailControl)("hint",s(2,8,"common.forms.email.email-hint"))("label",s(3,10,"common.forms.email.enter-email")),t(3),p("pwdControl",e.passwordControl)("label",s(5,12,"common.forms.pwd.enter-pwd")),t(2),p("btnText",s(7,14,"login-page.title"))("btnDisabled",e.loginForm.invalid)}}var x=class o{isPopup=c(!1);submitByEmailAndPwdEmited=u();fb=w(V);authService=w(k);submitting=D(!1);loginForm=this.fb.group({email:["testuser@gmail.com",[h.required,h.email]],password:["123456",[h.required]]});get emailControl(){return this.loginForm.get("email")}get passwordControl(){return this.loginForm.get("password")}onSubmit(){if(this.loginForm.invalid)return;this.submitting.set(!0);let i=this.loginForm.value;this.authService.signInWithEmailAndPassword(i.email,i.password).pipe(E(()=>this.submitting.set(!1))).subscribe(),this.isPopup()&&this.submitByEmailAndPwdEmited.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=d({type:o,selectors:[["app-login-form"]],inputs:{isPopup:[1,"isPopup"]},outputs:{submitByEmailAndPwdEmited:"submitByEmailAndPwdEmited"},decls:2,vars:1,consts:[[1,"login__form",3,"formGroup"],[1,"login__form",3,"ngSubmit","formGroup"],[3,"emailControl","hint","label"],[3,"pwdControl","label"],["type","submit",3,"btnText","btnDisabled"]],template:function(e,n){e&1&&L(0,Z,1,0,"app-loader")(1,$,8,16,"form",0),e&2&&M(n.submitting()?0:1)},dependencies:[v,I,N,O,W,j,q,C,f,z],styles:["[_nghost-%COMP%]{width:100%;max-width:400px}.login__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px}@media (max-width: 576px){.login__form[_ngcontent-%COMP%]{gap:16px}}"],changeDetection:0})};var U=class o{isPopup=c(!1);openRegisterPopup=u();closePopup=u();switchToRegisterPopup(){this.openRegisterPopup.emit()}closeLoginPopup(){this.closePopup.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=d({type:o,selectors:[["app-login"]],inputs:{isPopup:[1,"isPopup"]},outputs:{openRegisterPopup:"openRegisterPopup",closePopup:"closePopup"},decls:6,vars:6,consts:[[1,"login-container","container"],[3,"text"],[3,"submitByEmailAndPwdEmited","isPopup"],[3,"submitWithGoogleEmited","isPopup"],[3,"openRegisterPopup","isPopup"]],template:function(e,n){e&1&&(m(0,"div",0),g(1,"app-h2-title",1),r(2,"translate"),m(3,"app-login-form",2),l("submitByEmailAndPwdEmited",function(){return n.closeLoginPopup()}),a(),m(4,"app-google-btn",3),l("submitWithGoogleEmited",function(){return n.closeLoginPopup()}),a(),m(5,"app-go-to-register",4),l("openRegisterPopup",function(){return n.switchToRegisterPopup()}),a()()),e&2&&(t(),p("text",s(2,4,"login-page.title")),t(2),p("isPopup",n.isPopup()),t(),p("isPopup",n.isPopup()),t(),p("isPopup",n.isPopup()))},dependencies:[A,C,f,v,y,x,H],styles:[".login-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:30px}@media (max-width: 576px){.login-container[_ngcontent-%COMP%]{gap:20px}}"],changeDetection:0})};export{U as a};
